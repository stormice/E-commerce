<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>天天生鲜-用户中心</title>
	<link rel="stylesheet" type="text/css" href="/static/css/reset.css">
	<link rel="stylesheet" type="text/css" href="/static/css/main.css">
	<link rel="stylesheet" type="text/css" href="/static/usermode/css/1.css">
</head>
<body>
	<div class="header_con">
		<div class="header">
			<div class="welcome fl">欢迎来到天天生鲜!</div>
			<div class="fr">
				<div class="login_info fl">
					欢迎您：<em>{{uname}}</em>
				</div>
				<div class="user_link fl">
					<span>|</span>
					<a href="/GoodsShow/">首页</a>
					<span>|</span>
					<a href="cart.html">我的购物车</a>
					<span>|</span>
					<a href="user_center_order.html">我的订单</a>
					<span>|</span>
					<a href="/usermode/login/">切换账号</a>
					<span>|</span>
					<a href="/usermode/exit/">退出</a>
				</div>
			</div>
		</div>		
	</div>

	<div class="search_bar clearfix">
		<a href="index.html" class="logo fl"><img src="/static/images/logo.png"></a>
		<div class="sub_page_name fl">|&nbsp;&nbsp;&nbsp;&nbsp;用户中心</div>
		<div class="search_con fr">
			<input type="text" class="input_text fl" name="" placeholder="搜索商品">
			<input type="button" class="input_btn fr" name="" value="搜索">
		</div>		
	</div>

	<div class="main_con clearfix">
		<div class="left_menu_con clearfix">
			<h3>用户中心</h3>
			<ul>
				<li><a href="/usermode/user_center_info/">· 个人信息</a></li>
				<li><a href="user_center_order.html">· 全部订单</a></li>
				<li><a href="/usermode/user_center_site/" class="active">· 收货地址</a></li>
			</ul>
		</div>
		<div class="right_content clearfix">
			<h3 class="common_title2">编辑地址</h3>
				<div class="site_con">
					<form method="post" action="/usermode/addr_save/" id="site_con_form1">
						{% csrf_token %}
						<div class="form_group">
							<label>收件人：</label>
							<input type="text" id="username" name="username">
							<div class="err_info">输入错误</div>
						</div>
						<div class="form_group form_group2">
							<label>详细地址：</label>
							<textarea class="site_area" id="useraddress" name="useraddress"></textarea>
							<div  class="err_info">输入错误</div>
						</div>
						<div class="form_group">
							<label>邮编：</label>
							<input type="text" id="ucode" name="ucode">
							<div  class="err_info">输入错误</div>
						</div>
						<div class="form_group">
							<label>手机：</label>
							<input type="tel" id="uphone" name="uphone">
							<div class="err_info">输入错误</div>
						</div>

						<input type="submit" name="" value="提交" class="info_submit">
					</form>
				</div>
		</div>
	</div>



	<div class="footer">
		<div class="foot_link">
			<a href="#">关于我们</a>
			<span>|</span>
			<a href="#">联系我们</a>
			<span>|</span>
			<a href="#">招聘人才</a>
			<span>|</span>
			<a href="#">友情链接</a>		
		</div>
		<p>CopyRight © 2016 北京天天生鲜信息技术有限公司 All Rights Reserved</p>
		<p>电话：010-****888    京ICP备*******8号</p>
	</div>
	<script src="/static/js/jquery-1.12.4.min.js"></script>
	<script>
		$(function(){
			var error_name = false;
			var error_address = false;
			var error_tel = false;
			var error_code = false;
			$('#username').blur(function(){
				check_username();
			})


			$('#useraddress').blur(function(){
				check_useraddress();
			})


			$('#ucode').blur(function(){
				check_ucode();
			})


			$('#uphone').blur(function(){
				check_uphone();
			})


			function check_username(){
				var value1 = $('#username').val().trim();
				var len=value1.length;
				if(len<5||len>20)
				{
					$('#user_name').next().html('*请输入5-20个字符的收件人姓名')
					$('#user_name').next().css('display','inline-block');
					error_name = true;
				}else{
					$('#user_name').next().hide();
					error_name = false;
				}
			}


			function check_useraddress(){
				var value1 = $('#useraddress').val().trim();
				var len=value1.length;
				if(len<10||len>100)
				{
					$('#useraddress').next().html('*请输入10-100个字符的收件人地址')
					$('#useraddress').next().css('display','inline-block');
					error_address = true;
				}else{
					$('#useraddress').next().hide();
					error_address = false;
				}
			}

			function check_ucode(){
				var re = /^\d{6}$/;

				if(re.test($('#ucode').val().trim()))
				{
					$('#ucode').next().hide();
					error_code = false;
				}
				else
				{
					$('#ucode').next().html('*你输入的邮编格式不正确')
					$('#ucode').next().css('display','inline-block');
					error_code = true;
				}

			}


			function check_uphone(){
				var re = /^1[3|4|5|8][0-9]\d{4,8}$/;

				if(re.test($('#uphone').val().trim()))
				{
					$('#uphone').next().hide();
					error_tel = false;
				}
				else
				{
					$('#uphone').next().html('*请输入11位数的手机号码')
					$('#uphone').next().css('display','inline-block');
					error_tel = true;
				}
			}



			$('#site_con_form1').submit(function(){
				check_user_name();
				check_pwd();
				check_cpwd();
				check_email();

				if(error_name == false && error_address == false &&
error_tel == false && error_code == false)
				{
					alert('注册成功!')
					return true;
				}
				else
				{
					return false;
				}

			})

		})
	</script>
</body>
</html>